<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Saras: probes Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Saras
   </div>
   <div id="projectbrief">Finite&nbsp;Difference&nbsp;Solver&nbsp;for&nbsp;NSE&nbsp;and&nbsp;MHD&nbsp;Simulations</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classprobes-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">probes Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles the writing of data from probes placed in the domain.  
 <a href="classprobes.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="probes_8h_source.html">lib/io/probes.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a66d8ce73e299e358015e3e1a349d8826"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprobes.html#a66d8ce73e299e358015e3e1a349d8826">probes</a> (const <a class="el" href="classgrid.html">grid</a> &amp;mesh, std::vector&lt; <a class="el" href="classfield.html">field</a> &gt; &amp;pFields)</td></tr>
<tr class="memdesc:a66d8ce73e299e358015e3e1a349d8826"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor of the probes class.  <a href="#a66d8ce73e299e358015e3e1a349d8826">More...</a><br/></td></tr>
<tr class="separator:a66d8ce73e299e358015e3e1a349d8826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec03084c771d82388340f296dc22936a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprobes.html#aec03084c771d82388340f296dc22936a">probeData</a> (real time)</td></tr>
<tr class="memdesc:aec03084c771d82388340f296dc22936a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to read the variables at the probe locations and return them.  <a href="#aec03084c771d82388340f296dc22936a">More...</a><br/></td></tr>
<tr class="separator:aec03084c771d82388340f296dc22936a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a1c157f994fbc5fd5f2a8bccbc996dcb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprobes.html#a1c157f994fbc5fd5f2a8bccbc996dcb9">getData</a> (<a class="el" href="structdataStruct.html">dataStruct</a> *outData)</td></tr>
<tr class="memdesc:a1c157f994fbc5fd5f2a8bccbc996dcb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to read the variables locally within each sub-domain.  <a href="#a1c157f994fbc5fd5f2a8bccbc996dcb9">More...</a><br/></td></tr>
<tr class="separator:a1c157f994fbc5fd5f2a8bccbc996dcb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a190f7431211e6f18f01dbc7b4d5acc73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprobes.html#a190f7431211e6f18f01dbc7b4d5acc73">gatherData</a> (<a class="el" href="structdataStruct.html">dataStruct</a> *outData)</td></tr>
<tr class="memdesc:a190f7431211e6f18f01dbc7b4d5acc73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to gather the probed data to rank 0.  <a href="#a190f7431211e6f18f01dbc7b4d5acc73">More...</a><br/></td></tr>
<tr class="separator:a190f7431211e6f18f01dbc7b4d5acc73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf8ed8f478396737a34be4145cc02e62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprobes.html#adf8ed8f478396737a34be4145cc02e62">createMPIStruct</a> ()</td></tr>
<tr class="memdesc:adf8ed8f478396737a34be4145cc02e62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to create the derived MPI datatype to be used for transferring probed data across processors in 3D runs.  <a href="#adf8ed8f478396737a34be4145cc02e62">More...</a><br/></td></tr>
<tr class="separator:adf8ed8f478396737a34be4145cc02e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b03ced012fb87155d5498842d18f09a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprobes.html#a0b03ced012fb87155d5498842d18f09a">placeProbes</a> ()</td></tr>
<tr class="memdesc:a0b03ced012fb87155d5498842d18f09a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to place all the probes in the MPI decomposed sub-domains.  <a href="#a0b03ced012fb87155d5498842d18f09a">More...</a><br/></td></tr>
<tr class="separator:a0b03ced012fb87155d5498842d18f09a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a721be8cef7a81ab06b6e7edb0a82bf0d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a721be8cef7a81ab06b6e7edb0a82bf0d"></a>
const <a class="el" href="classgrid.html">grid</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>mesh</b></td></tr>
<tr class="separator:a721be8cef7a81ab06b6e7edb0a82bf0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3750d9a7a50cb4109c886e035ae93aae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3750d9a7a50cb4109c886e035ae93aae"></a>
std::vector&lt; <a class="el" href="classfield.html">field</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>pFields</b></td></tr>
<tr class="separator:a3750d9a7a50cb4109c886e035ae93aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04fa4f1c157aed13cc70172eb3ad8985"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a04fa4f1c157aed13cc70172eb3ad8985"></a>
const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>numFields</b></td></tr>
<tr class="separator:a04fa4f1c157aed13cc70172eb3ad8985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f819e4a123212b133a425cf185ebb82"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1f819e4a123212b133a425cf185ebb82"></a>
std::vector&lt; blitz::TinyVector<br class="typebreak"/>
&lt; int, 3 &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>globalProbes</b></td></tr>
<tr class="separator:a1f819e4a123212b133a425cf185ebb82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e5067da82d3fd709ffa8baee4d56f7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a72e5067da82d3fd709ffa8baee4d56f7"></a>
std::vector&lt; blitz::TinyVector<br class="typebreak"/>
&lt; int, 3 &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>localProbes</b></td></tr>
<tr class="separator:a72e5067da82d3fd709ffa8baee4d56f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6696b177aa3492c23b59fd04bfc035be"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6696b177aa3492c23b59fd04bfc035be"></a>
std::ofstream&#160;</td><td class="memItemRight" valign="bottom"><b>probeFile</b></td></tr>
<tr class="separator:a6696b177aa3492c23b59fd04bfc035be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbf726a0571727ba9f4ba52b3491b4a2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afbf726a0571727ba9f4ba52b3491b4a2"></a>
MPI_Datatype&#160;</td><td class="memItemRight" valign="bottom"><b>mpiStruct</b></td></tr>
<tr class="separator:afbf726a0571727ba9f4ba52b3491b4a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles the writing of data from probes placed in the domain. </p>
<p>The class places the probes in probesList provided by user through the parser class. It also provides an interface to the solver to read data from the probes. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a66d8ce73e299e358015e3e1a349d8826"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">probes::probes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgrid.html">grid</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classfield.html">field</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pFields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor of the probes class. </p>
<p>The constructor initializes the variables and parameters for writing probed data The header for the ProbeData.dat file is also written here. Depending on whether the run is 2D or 3D, the appropriate header is written. Finally, the MPIStruct datatype for transferring probed data across processors is also initialized.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mesh</td><td>is a const reference to the global data contained in the grid class. </td></tr>
    <tr><td class="paramname">pFields</td><td>is a vector containing a list of references to all the fields which need to be probed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="adf8ed8f478396737a34be4145cc02e62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void probes::createMPIStruct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to create the derived MPI datatype to be used for transferring probed data across processors in 3D runs. </p>
<p>The probed data consists of coordinates (integers) and the field readings (real). An MPI_Struct datatype is defined accordingly to store and transmit this data across processors. </p>

</div>
</div>
<a class="anchor" id="a190f7431211e6f18f01dbc7b4d5acc73"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void probes::gatherData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdataStruct.html">dataStruct</a> *&#160;</td>
          <td class="paramname"><em>outData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to gather the probed data to rank 0. </p>
<p>For each variable specified in the list of fields given to the constructor, obtain the value at the probe locations. It returns a vector of strcts containing the variable values </p>

</div>
</div>
<a class="anchor" id="a1c157f994fbc5fd5f2a8bccbc996dcb9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void probes::getData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdataStruct.html">dataStruct</a> *&#160;</td>
          <td class="paramname"><em>outData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to read the variables locally within each sub-domain. </p>
<p>For each variable specified in the list of fields given to the constructor, obtain the value at the probe locations. Store the data in the reference pointer supplied to the function. </p>

</div>
</div>
<a class="anchor" id="a0b03ced012fb87155d5498842d18f09a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void probes::placeProbes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to place all the probes in the MPI decomposed sub-domains. </p>
<p>The indices of probes provided in probesList of parser are global indices. This function gives the local indices of the probes within the sub-domains after MPI decomposition. Note that the probes are at the staggered grid points - cell centers. </p>

</div>
</div>
<a class="anchor" id="aec03084c771d82388340f296dc22936a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void probes::probeData </td>
          <td>(</td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to read the variables at the probe locations and return them. </p>
<p>For each variable specified in the list of fields given to the constructor, obtain the value at the probe locations. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/io/<a class="el" href="probes_8h_source.html">probes.h</a></li>
<li>lib/io/<a class="el" href="probes_8cc.html">probes.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 5 2020 23:16:42 for Saras by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
