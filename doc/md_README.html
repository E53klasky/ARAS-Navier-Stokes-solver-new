<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Saras: Saras - Finite difference solver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Saras
   </div>
   <div id="projectbrief">Finite&nbsp;Difference&nbsp;Solver&nbsp;for&nbsp;NSE&nbsp;and&nbsp;MHD&nbsp;Simulations</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Saras - Finite difference solver </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Saras is an OpenMP-MPI hybrid parallelized Navier-Stokes equation solver written in C++. It uses the finite-difference method for calculating spatial derivatives and parallelized algebraic multi-grid method for solving the pressure Poisson equation.</p>
<p>All the source and library files for the Saras solver are contained in the following directories:</p>
<ul>
<li><code>./src/</code> - contains all the different solvers available in Saras</li>
<li><code>./lib/</code> - contains all the libraries used by the solvers in <code>./src/</code> folder</li>
<li><code>./compile/</code> - contains the installation script to build and compile the solver</li>
<li><code>./output/</code> - the solution files written by the solver are contained in this folder, it also contains Python post-processing scripts</li>
</ul>
<h2>Installing SARAS</h2>
<p>To install <code>SARAS</code>, you need to first clone the git repository into your local machine</p>
<p><code>git clone <a href="https://github.com/roshansamuel/saras.git">https://github.com/roshansamuel/saras.git</a></code></p>
<p>On LINUX systems which use the Bash shell, <code>SARAS</code> can be compiled by simply running the <code>compileSaras.sh</code> shell script in the <code>compile/</code> folder, as below</p>
<p><code>bash compileSaras.sh</code></p>
<p>Before compilation, a few dependencies have to installed first.</p>
<ul>
<li><code>blitz</code> - All array manipulations are performed using the Blitz++ library</li>
<li><code>cmake</code> - Necessary to make the executable from the source files</li>
<li><code>mpich</code> - The compiler used is mpic++</li>
<li><code>yaml</code> - The input parameters are stored in the parameters.yaml file which needs the yaml-cpp library to parse.</li>
<li><code>hdf5</code> - The output files are written in HDF5 format</li>
</ul>
<h3>Blitz++</h3>
<p>To install the Blitz++ library, please download the library from <a href="http://turbulencehub.org/wp-content/uploads/Download_Files/blitz-1.0.1.tar.gz">here</a>, and extract the archive. Follow the installation instructions in the archive.</p>
<h3>CMake</h3>
<p>On LINUX systems which use Debian package manager, please use the package manager itself to install CMake. For example, on Ubuntu systems, CMake can be installed by running</p>
<p><code>sudo apt-get install cmake</code></p>
<h3>MPICH</h3>
<p>Similar to CMake installation above, it is best to install MPICH using the native package manager.</p>
<h3>YAML</h3>
<p>On Debian based systems, the YAML library can be installed by running</p>
<p><code>sudo apt-get install libyaml-cpp-dev</code></p>
<p>Otherwise, the yaml-cpp library can be downloaded from <a href="http://turbulencehub.org/wp-content/uploads/Download_Files/yaml-cpp-release-0.3.0.tar.gz">here</a>. Please extract the archive and follow the installation instructions.</p>
<h3>HDF5</h3>
<p>The HDF5 library has to be installed with parallel writing enabled for the file writing functions of <code>SARAS</code> to work. The library can either be downloaded and manually installed from <a href="http://turbulencehub.org/wp-content/uploads/Download_Files/hdf5-1.8.20.tar.bz2">here</a>, or the native package manager of the OS can be used to locate and install the library.</p>
<p>More instructions on installing the libraries listed above can be found <a href="http://turbulencehub.org/index.php/codes/tarang/installing-tarang/">here</a>. If any of the above libraries is being installed to the home directory, please make sure to update the relevant paths in the shell configuration file (<code>~/.bashrc</code>)</p>
<h2>Running SARAS</h2>
<p><code>SARAS</code> can be executed by issuing the <code>mpirun</code> command at the root folder of the solver (assuming that MPICH is installed as mentioned above).</p>
<p><code>mpirun -np &lt;number_of_processors&gt; ./saras</code></p>
<p>It is essential to set the parameters appropriately with the <code>parameters.yaml</code> file in the <code>input/</code> folder of the solver. The number of processors specified to the <code>mpirun</code> command should be equal to the product of <code>X Number of Procs</code> and <code>Y Number of Procs</code> options within the <code>Parallel</code> sub-section of <code>parameters.yaml</code>. Please check the <code>parameters.yaml</code> file for the full list of options specifiable to the solver, and their explanations (in comments).</p>
<p>Please refer to the HTML documentation generated by Doxygen in the <code>docs/</code> folder of the solver for more information.</p>
<h2>Testing SARAS</h2>
<p><code>SARAS</code> offers an automated testing process to validate the solver after installation. The relevant test scripts can be found in the <code>tests/</code> folder of the solver. Executing the Bash shell script <code>testSaras.sh</code>, will compile <code>SARAS</code>, and run it with a pre-defined set of parameters. We use the benchmark results on 2D lid-driven cavity (LDC) performed by Ghia et al (1982) to validate <code>SARAS</code>. The test can be executed by running the following command within the <code>tests/</code> folder.</p>
<p><code>bash testSaras.sh</code></p>
<p>The test uses 4 cores and takes about 12 minutes to complete on an Intel workstation. At the end of the test, the Python script <code><a class="el" href="validate__ldc_8py.html" title="Saras. ">validate_ldc.py</a></code>, found in <code>tests/ldcTest/</code> reads the output from <code>SARAS</code>, and plots the velocity profiles along with the data from Ghia et al's result.</p>
<p>The following Python modules are necessary for the Python test script to execute successfully</p>
<ul>
<li>numpy</li>
<li>matplotlib</li>
<li>h5py</li>
<li>yaml</li>
</ul>
<p>At the end of the test, a plot of the x and y velocity profiles is shown to the user and drawn into a <code>ldc_validation.png</code> file. A measure of the deviation of the results from the expected values is also calculated and the test is deemed passed if this deviation is within the set tolerance.</p>
<h2>License</h2>
<p><code>SARAS</code> is an open-source package made available under the New BSD License.</p>
<h2>References</h2>
<p>Various articles and pages used to make programming decisions during development of the solver are listed here:</p>
<h3>General articles</h3>
<ol type="1">
<li><a href="http://coding.derkeiler.com/Archive/C_CPP/comp.lang.c/2004-02/1382.html">http://coding.derkeiler.com/Archive/C_CPP/comp.lang.c/2004-02/1382.html</a></li>
<li><a href="https://stackoverflow.com/questions/4816698/avoiding-circular-dependencies-of-header-files">https://stackoverflow.com/questions/4816698/avoiding-circular-dependencies-of-header-files</a></li>
<li><a href="http://blitz.sourceforge.net/resources/blitz-0.9.pdf">http://blitz.sourceforge.net/resources/blitz-0.9.pdf</a></li>
<li><a href="https://stackoverflow.com/questions/8111677/what-is-argument-dependent-lookup-aka-adl-or-koenig-lookup">https://stackoverflow.com/questions/8111677/what-is-argument-dependent-lookup-aka-adl-or-koenig-lookup</a></li>
<li><a href="https://www.codesynthesis.com/~boris/blog/2012/04/04/when-provide-empty-destructor/">https://www.codesynthesis.com/~boris/blog/2012/04/04/when-provide-empty-destructor/</a></li>
</ol>
<h3>Articles on multi-grid methods</h3>
<ol type="1">
<li><a href="http://math.mit.edu/classes/18.086/2006/am63.pdf">http://math.mit.edu/classes/18.086/2006/am63.pdf</a></li>
<li><a href="http://www.mgnet.org/mgnet-tuts.html">http://www.mgnet.org/mgnet-tuts.html</a></li>
</ol>
<h3>Journal references</h3>
<ol type="1">
<li>Ghia, U., Ghia, K. N., &amp; Shin, C. T. (1982). High-Re solutions for incompressible flow using the Navier-Stokes equations and a multigrid method. J. Comput. Phys., 48(3), 387-411. </li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Feb 6 2020 14:06:24 for Saras by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
